### 1. 프로그램의 실행의 의미

1. 디스크에 존재하던 실행 파일이 메모리에 적재된다. 
2. 프로그램이 cpu를 할당받고 명령(instruction)을 수행하고 있는 상태 →

### 2. 메모리라는 한정된 공간에 여러 프로세스가 동시에 올라가는 방법

<img width="680" alt="image" src="https://user-images.githubusercontent.com/47748246/219685411-fbefa07b-1c5f-4226-b93a-6a4c4dbd9783.png">

- 실행 파일 전체가 메모리에 올라가는 것 X. 일부분만 메모리에 올라가고 나머지는 디스크의 특정 영역에 내려가 있음
- 프로그램의 주소 공간 중 당장 CPU의 수행에 필요한 부분은 메모리에 올려놓고, 그렇지 않은 부분은 디스크 중 메모리의 연장 공간으로 사용되는 **스왑 영역**에 내려놓는 방식으로 운영된다.

### 3. 프로세스의 주소 공간

<img width="742" alt="image" src="https://user-images.githubusercontent.com/47748246/219685487-9c8ca08f-1704-4200-96fd-82653c92fe68.png">

- **프로세스의 주소 공간**
    - **코드, 데이터, 스택**으로 구성된다.
    - 각각의 프로그램마다 이러한 주소 공간을 별도로 가지며, 프로그램마다 독자적으로 존재하는 이와 같은 주소 공간을 우리는 **가상메모리**, 또는 **논리적 메모리**라고 부른다.

- **커널의 주소 공간**
    - 운영체제도 하나의 프로그램이므로 커널 역시 코드, 데이터, 스택의 주소 공간 구성을 가지고 있다.
    - 운영체제의 기능이 아랫단의 하드웨어 자원을 효율적으로 관리하는 것 + 윗단의 응용프로그램 및 사용자에게 편리한 서비스를 제공하는 것이므로 커널의 코드 역시 CPU, 메모리 등의 자원을 관리하기 위한 부분 + 사용자에게 편리한 인터페이스를 제공하기 위한 부분이 주를 이루고 있다.
    
    <img width="742" alt="image" src="https://user-images.githubusercontent.com/47748246/219685545-4fdb1432-1282-4600-ba94-b019791b2a2d.png">
    
    운영체제의 주소 공간 구조
    
    - **커널의 데이터 영역**
        - 각종 자원을 관리하기 위한 자료구조가 저장된다.
        - CPU나 메모리와 같은 **하드웨어 자원을 관리하기 위한 자료구조** + **현재 수행 중인 프로그램을 관리하기 위한 자료구조**도 커널의 데이터 영역에 저장된다.
        - 각 프로세스의 상태, CPU 사용 정보, 메모리 사용 정보 등을 유지하기 위한 자료구조인 **`PCB`**를 두고 있다.
    
    - **커널의 스택 영역**
        - 일반 프로그램의 스택 영역과 마찬가지로 함수호출 시의 복귀 주소를 저장하기 위한 용도로 사용된다 .
        - 하지만 커널의 스택은 일반 사용자 프로그램의 스택과 달리 **현재 수행 중인 프로세스마다 별도의 스택을 두어 관리**한다.
            - 이는 프로세스가 함수를 호출할 때 자기 주소 영역 내부에 정의된 함수를 호출하면 자신의 스택에 복귀 주소를 저장하지만,
            - 프로세스가 특권 명령을 수행하려고 커널에 정의된 시스템 콜을 호출하고 → 시스템 콜 내부에서 다른 함수를 호출하는 경우 : 그 복귀 주소는 커널 내의 주소가 되어 사용자 프로그램의 스택과는 별도의 저장 공간에 필요하게 되기 때문이다.
            - 또한 커널은 일종의 공유 코드임 → 모든 사용자 프로그램이 시스템 콜을 통해 커널의 함수를 접근할 수 있으므로, 일관성 유지를 위해 각 프로세스마다 커널 내에 별도의 스택을 두게 되는 것.
