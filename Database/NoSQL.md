# NoSQL

## 🦥 관계형 데이터베이스 (SQL)

- `고정된 행과 열`로 구성된 테이블에 데이터를 저장
- 열은 하나의 속성에 대한 정보를 저장하고 행은 각 열의 데이터 형식에 맞는 데이터를 저장
- 관계형 데이터베이스에서는 테이블의 구조와 데이터 타입 등을 사전에 정의하고 정의된 형식에 맞게 데이터를 저장
- 관계형 데이터베이스와 상호작용을 하기 위해서 SQL 사용
- 테이블간 관계를 직관적으로 파악할 수 있음

## 🦥 비관계형 데이터베이스

- 행과 테이블을 사용하는 관계형 데이터베이스보다 다양한 방식으로 `비정형 데이터`를 처리할 수 있는 데이터베이스

## 🦥 NoSQL 특징

### 🌿 장점

- 반정형화, 비정형화된 데이터에 적합
    
    💡 `반정형 데이터` : 구조에 따라 저장된 데이터지만 정형 데이터와는 달리 데이터 안에 데이터가 존재. HTML, XML, JSON 문서는 반정형 데이터라고 할 수 있다
    
    💡 `비정형 데이터` : 정의된 구조가 없는 동영상 파일, 오디오 파일, 사진 등은 비정형 데이터에 해당된다
    
- 관계형 데이터베이스에서는 데이터의 관계를 표현할 수 있지만 NoSQL 은 관계를 정의를 하지않기 때문에 유연성 있게 데이터를 처리할 수 있음
- 관계형 데이터베이스에 비해 대용량의 데이터를 저장할 수 있음
- 데이터를 저장할 수 있는 모델이 다양하다

### 🌿 단점

- 스키마를 강제하지 않으므로 유연하지만 개발자가 애플리케이션 레벨에서 데이터에 대한 무결성 검증을 직접 해야만 한다.
- ACID 트랜잭션을 지원하지 않을 수 있다.

## 🦥 CAP 이론

### 🌿  일관성 (Consistency)

클라이언트들이 같은 시간에 조회하는 데이터는 항상 동일해야 한다

### 🌿  가용성 (Availability)

모든 클라이언트들의 읽기/쓰기 요청에 대해 항상 응답이 가능해야 한다

### 🌿  분할 내성(Partition tolerance)

분할 네트워크 환경에서 네트워크가 끊기거나 데이터가 유실되어도 각 환경 내에서는 정상적으로 동작 해야한다

- CAP는 `일관성(Consistency), 가용성(Availability), 분할내성(Partition tolerance)` 3가지 특성의 약자이며, CAP 이론은 분산 컴퓨팅 환경에서 데이터 모델은 3가지 특성을 전부 가질 수는 없다는 이론
- NoSQL 은 2가지 특성을 가지며, 데이터를 어떠한 관점으로 볼 것인가에 따라 어떤 특성을 가져갈 것인지 선택
- RDBMS 는 `일관성(Consistency), 가용성(Availability)` 특성을 갖지만, NoSQL의 경우 `일관성(Consistency), 분할 내성(Partition tolerance)` 또는 `가용성(Availability), 분할 내성(Partition tolerance)` 특성을 갖는다.

## 🦥 NoSQL DBMS 종류

![Untitled](NoSQL%209fbf027011aa4a258f210709353dccee/Untitled.png)

![Untitled](NoSQL%209fbf027011aa4a258f210709353dccee/Untitled%201.png)

### 🌿 Key-Value store

- 속성을 Key-Value 쌍으로 나타내는 데이터를 배열의 형태로 저장
- Key 는 속성 이름, Value 는 속성 이름에 연결된 데이터를 의미
- Redis, Dynamo DB 가 대표적인 Key-Value 형식의 데이터베이스
- 하나의 서비스 요청에 다수의 데이터 조회 및 수정 연산이 발생하면 트랜잭션 처리가 불가능하여 데이터 정합성을 보장할 수 없음
- 복잡한 조회 연산을 지원하지 않음

![Untitled](NoSQL%209fbf027011aa4a258f210709353dccee/Untitled%202.png)

![Untitled](NoSQL%209fbf027011aa4a258f210709353dccee/Untitled%203.png)

### 🌿 Column-base store

- 기존 RDBMS 에서 행 단위로 데이터를 저장하였지만 열 단위로 저장
- 각 열에는 Key-Value 형식으로 데이터베이스가 저장
- 하나의 키에 여러 개의 컬럼 이름과 컬럼 값의 쌍으로 이루어진 데이터를 저장하고 조회
- 하나의 행에 수천 수만개의 컬럼을 저장 가능
- 데이터는 하나의 연속적인 엔티티로 취급되며, 조회 시 다른 row로 이동하는 등의 불필요한 작업이 필요 없다.
- 데이터 처리에 필요한 열을 유연하게 선택할 수 있어 빅데이터 분석에 유리
- RDBMS 에서 특정 한 부분을 수정할 때 필요하지 않은 데이터를 모두 질의해야하지만 열 기반에서는 키를 이용하여 필요한 열의 데이터만 로드하면 된다

![Untitled](NoSQL%209fbf027011aa4a258f210709353dccee/Untitled%204.png)

### 🌿 Document-Oriented store

- 데이터를 JSON 문서처럼 저장하는 데이터베이스
- Key-Value Store 의 확장된 형태로 Key는 Document Id, Value 에 Document 타입을 저장
- Document는 구조화 된 문서 데이터를 의미
- B-tree index 를 사용하기 때문에 읽기 성능이 좋음

![Untitled](NoSQL%209fbf027011aa4a258f210709353dccee/Untitled%205.png)

### 🌿 Graph store

- 데이터 간의 관계를 구성하는 데이터베이스로 객체 모델링을 목적으로 설계
- 노드에 속성별로 데이터를 저장
- 각 노드간 관계는 선으로 표현